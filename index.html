<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mazos de Cartas</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="styles.css">
</head>
<body class="bg-gradient-to-br from-blue-100 to-purple-100 min-h-screen">
    <!-- Popup de configuraciÃ³n inicial -->
    <div class="config-overlay" id="configOverlay">
        <div class="config-popup">
            <h1 class="config-titulo">ğŸ® Configurar Jugadores</h1>
            <p class="config-subtitulo">Ingresa los nombres de los jugadores (mÃ­nimo 2)</p>
            
            <div id="jugadoresContainer">
                <div class="jugador-input-container">
                    <input type="text" class="jugador-input" placeholder="Nombre del Jugador 1" maxlength="20">
                    <button type="button" class="btn-remove-jugador" onclick="removerJugador(this)" style="display: none;">Ã—</button>
                </div>
                <div class="jugador-input-container">
                    <input type="text" class="jugador-input" placeholder="Nombre del Jugador 2" maxlength="20">
                    <button type="button" class="btn-remove-jugador" onclick="removerJugador(this)" style="display: none;">Ã—</button>
                </div>
            </div>
            
            <button type="button" class="btn-add-jugador" onclick="agregarJugador()">
                â• Agregar Jugador
            </button>
            
            <div class="jugadores-count" id="jugadoresCount">2 jugadores</div>
            
            <button type="button" class="btn-iniciar-juego" id="btnIniciarJuego" onclick="iniciarJuego()" disabled>
                ğŸš€ Iniciar Juego
            </button>
        </div>
    </div>

    <!-- Pantalla de orden aleatorio -->
    <div class="orden-overlay" id="ordenOverlay">
        <div class="orden-popup">
            <h1 class="orden-titulo">ğŸ² Orden de Turnos</h1>
            <p class="orden-subtitulo">Â¡El orden ha sido mezclado aleatoriamente!</p>
            
            <div class="lista-orden" id="listaOrden">
                <!-- Se llenarÃ¡ dinÃ¡micamente -->
            </div>
            
            <div>
                <button type="button" class="btn-reordenar" onclick="reordenarJugadores()">
                    ğŸ”„ Mezclar de Nuevo
                </button>
                <button type="button" class="btn-confirmar-orden" onclick="confirmarOrden()">
                    âœ… Confirmar Orden
                </button>
            </div>
        </div>
    </div>

    <!-- BotÃ³n toggle para panel en mÃ³viles -->
    <button class="btn-toggle-panel" id="btnTogglePanel" onclick="togglePanel()">
        ğŸ‘¥
    </button>

    <!-- Overlay para cerrar panel en mÃ³viles -->
    <div class="panel-overlay" id="panelOverlay" onclick="cerrarPanel()"></div>

    <!-- Panel de jugadores y turnos -->
    <div class="panel-jugadores" id="panelJugadores" style="display: none;">
        <div class="panel-titulo">ğŸ‘¥ Jugadores</div>
        <div class="turno-actual" id="turnoActual">
            ğŸ¯ Turno #1: <span id="jugadorActual">Jugador 1</span>
        </div>
        <div class="lista-jugadores" id="listaJugadores">
            <!-- Se llenarÃ¡ dinÃ¡micamente -->
        </div>
        <button type="button" class="btn-siguiente-turno" onclick="siguienteTurno()">
            â­ï¸ Siguiente Turno
        </button>
        
        <!-- Panel de gestiÃ³n de jugadores -->
        <div class="panel-gestion">
            <div class="gestion-titulo">Gestionar Jugadores:</div>
            
            <!-- Input simplificado para nuevo jugador -->
            <div class="input-nuevo-jugador-container" id="inputContainer">
                <input type="text" class="input-nuevo-jugador" placeholder="Nombre del nuevo jugador" maxlength="20" id="nombreNuevoJugador">
                <button type="button" class="btn-agregar-jugador" id="btnAgregarJugador" onclick="agregarNuevoJugador()">
                    <span class="icono">+</span>
                </button>
            </div>
            <div class="mensaje-validacion" id="mensajeValidacion"></div>
            
            <button type="button" class="btn-gestion reordenar" onclick="reordenarEnPartida()">
                <span class="icono-reordenar">ğŸ”€</span>
                <span class="texto-reordenar">Reordenar</span>
            </button>
        </div>
    </div>

    <!-- BotÃ³n trigger para abrir el popup del dado -->
    <button class="dado-trigger" onclick="abrirPopupDado()">
        ğŸ²
    </button>

    <!-- Popup del dado -->
    <div class="dado-popup-overlay" id="dadoPopupOverlay">
        <div class="dado-popup">
            <div class="dado-container-popup">
                <h2 class="popup-titulo">ğŸ² Dado MÃ¡gico ğŸ²</h2>
                <div class="dado-cube" id="dadoCube">
                    <span id="numeroDadoPopup">ğŸ²</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Popup de anuncio de turno -->
    <div class="turno-popup-overlay" id="turnoPopupOverlay">
        <div class="turno-popup">
            <div class="turno-popup-titulo">Es el turno de:</div>
            <div class="turno-popup-numero" id="turnoPopupNumero">1</div>
            <div class="turno-popup-jugador" id="turnoPopupJugador">Jugador 1</div>
            <div class="turno-popup-mensaje" id="turnoPopupMensaje">Â¡Es tu momento de brillar!</div>
            
            <!-- SecciÃ³n de comodines disponibles -->
            <div class="popup-comodines-container" id="popupComodinesContainer">
                <div class="popup-comodines-titulo">ğŸƒ Tus Comodines Disponibles</div>
                <div class="popup-comodines-lista" id="popupComodinesLista">
                    <!-- Se llenarÃ¡ dinÃ¡micamente con los comodines del jugador -->
                </div>
            </div>
            
            <div>
                <button type="button" class="btn-continuar-turno primary" onclick="continuarSinComodin()">
                    ğŸ® Â¡Vamos a jugar!
                </button>
                <button type="button" class="btn-continuar-turno" onclick="saltarTurno()">
                    â­ï¸ Saltar turno
                </button>
            </div>
        </div>
    </div>

    <!-- Contador de tiempo -->
    <div class="contador-tiempo" id="contadorTiempo">
        <div class="contador-circulo normal" id="contadorCirculo">
            <div class="contador-numero" id="contadorNumero">45</div>
        </div>
    </div>

    <!-- Modal de confirmaciÃ³n para eliminar jugador -->
    <div class="modal-eliminar-overlay" id="modalEliminarOverlay">
        <div class="modal-eliminar">
            <!-- Paso 1: ConfirmaciÃ³n inicial -->
            <div class="modal-paso-1" id="modalPaso1">
                <div class="modal-icono-warning">âš ï¸</div>
                <div class="modal-titulo">Eliminar Jugador</div>
                <div class="modal-mensaje">Â¿Seguro que deseas eliminar a este jugador?</div>
                
                <div class="modal-jugador-info">
                    <div class="modal-jugador-nombre" id="modalJugadorNombre"></div>
                </div>
                
                <div class="modal-botones">
                    <button type="button" class="btn-modal btn-cancelar" onclick="cerrarModalEliminar()">
                        âœ–ï¸ Cancelar
                    </button>
                    <button type="button" class="btn-modal btn-continuar" onclick="mostrarPaso2()">
                        â¡ï¸ Continuar
                    </button>
                </div>
            </div>
            
            <!-- Paso 2: ConfirmaciÃ³n final -->
            <div class="modal-paso-2" id="modalPaso2">
                <div class="modal-icono-warning">ğŸš¨</div>
                <div class="modal-titulo">Â¡Ãšltima Oportunidad!</div>
                <div class="modal-mensaje">Esta acciÃ³n no se puede deshacer. Â¿Confirmas que quieres eliminar al jugador?</div>
                
                <div class="modal-jugador-info">
                    <div class="modal-jugador-nombre" id="modalJugadorNombre2"></div>
                </div>
                
                <div class="modal-botones">
                    <button type="button" class="btn-modal btn-cancelar" onclick="cerrarModalEliminar()">
                        âœ–ï¸ Cancelar
                    </button>
                    <button type="button" class="btn-modal btn-confirmar-final" onclick="confirmarEliminarJugador()">
                        ğŸ—‘ï¸ SÃ, Eliminar
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal de confirmaciÃ³n para reordenar jugadores -->
    <div class="modal-reordenar-overlay" id="modalReordenarOverlay">
        <div class="modal-reordenar">
            <!-- Paso 1: ConfirmaciÃ³n inicial con vista previa -->
            <div class="modal-reordenar-paso-1" id="modalReordenarPaso1">
                <div class="modal-icono-shuffle">ğŸ”€</div>
                <div class="modal-titulo-reordenar">Reordenar Jugadores</div>
                <div class="modal-mensaje-reordenar">Â¿Quieres reordenar el turno de los jugadores al azar?</div>
                
                <!-- ComparaciÃ³n del orden actual vs nuevo -->
                <div class="comparacion-container" id="comparacionContainer">
                    <div class="orden-actual">
                        <h4>ğŸ“‹ Orden Actual</h4>
                        <div class="orden-lista" id="ordenActualLista">
                            <!-- Se llenarÃ¡ dinÃ¡micamente -->
                        </div>
                    </div>
                    
                    <div class="flecha-cambio">â¡ï¸</div>
                    
                    <div class="orden-nuevo">
                        <h4>ğŸ² Nuevo Orden</h4>
                        <div class="orden-lista" id="ordenNuevoLista">
                            <!-- Se llenarÃ¡ dinÃ¡micamente -->
                        </div>
                    </div>
                </div>
                
                <div class="modal-botones">
                    <button type="button" class="btn-modal btn-cancelar" onclick="cerrarModalReordenar()">
                        âœ–ï¸ Cancelar
                    </button>
                    <button type="button" class="btn-modal" onclick="generarNuevoOrden()">
                        ğŸ² Mezclar de Nuevo
                    </button>
                    <button type="button" class="btn-modal btn-continuar-reordenar" onclick="mostrarPaso2Reordenar()">
                        â¡ï¸ Continuar
                    </button>
                </div>
            </div>
            
            <!-- Paso 2: ConfirmaciÃ³n final -->
            <div class="modal-reordenar-paso-2" id="modalReordenarPaso2">
                <div class="modal-icono-shuffle">ğŸ¯</div>
                <div class="modal-titulo-reordenar">Â¡Confirmar Cambios!</div>
                <div class="modal-mensaje-reordenar">Este cambio afectarÃ¡ el orden actual. Â¿Confirmas?</div>
                
                <!-- Vista previa detallada del nuevo orden -->
                <div class="vista-previa-container">
                    <div class="vista-previa-titulo">
                        ğŸ”„ Nuevo Orden de Turnos
                    </div>
                    <div class="lista-orden-previa" id="listaOrdenPrevia">
                        <!-- Se llenarÃ¡ dinÃ¡micamente -->
                    </div>
                </div>
                
                <div class="modal-botones">
                    <button type="button" class="btn-modal btn-cancelar" onclick="cerrarModalReordenar()">
                        âœ–ï¸ Cancelar
                    </button>
                    <button type="button" class="btn-modal btn-confirmar-reordenar" onclick="confirmarReordenarJugadores()">
                        âœ… SÃ, Reordenar
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal de Victoria -->
    <div class="victoria-overlay" id="victoriaOverlay">
        <div class="victoria-modal">
            <div class="victoria-header">
                <div class="victoria-icono">ğŸ†</div>
                <div class="victoria-titulo" id="victoriaTitulo">Â¡VICTORIA!</div>
                <div class="victoria-ganador" id="victoriaGanador">Jugador 1</div>
                <div class="victoria-puntuacion" id="victoriaPuntuacion">7 puntos</div>
            </div>
            
            <div class="victoria-content">
                <div class="victoria-mensaje">Â¡Felicitaciones por esta increÃ­ble partida!</div>
                
                <div class="victoria-ranking-container">
                    <h3 class="ranking-titulo">ğŸ… Ranking Final</h3>
                    <div class="victoria-ranking" id="victoriaRanking">
                        <!-- Se llenarÃ¡ dinÃ¡micamente -->
                    </div>
                </div>
            </div>
            
            <div class="victoria-footer">
                <button class="btn-nuevo-juego" onclick="nuevoJuego()">
                    ğŸ® Nuevo Juego
                </button>
                <button class="btn-cerrar-victoria" onclick="cerrarVictoria()">
                    âœ–ï¸ Cerrar
                </button>
            </div>
        </div>
    </div>

    <!-- Popup para mostrar carta -->
    <div class="carta-popup-overlay" id="cartaPopupOverlay">
        <div class="carta-popup" id="cartaPopup">
            <button class="btn-cerrar-carta" onclick="cerrarPopupCarta()">Ã—</button>
            
            <div class="carta-popup-header">
                <div class="carta-tipo-badge" id="cartaTipoBadge">COMODÃN</div>
                <div class="carta-numero" id="cartaNumero">#1</div>
            </div>
            
            <div class="carta-popup-content">
                <div class="carta-popup-titulo" id="cartaPopupTitulo">
                    TÃ­tulo de la Carta
                </div>
                
                <div class="carta-popup-texto" id="cartaPopupTexto">
                    Contenido de la carta aquÃ­...
                </div>
                
                <div class="carta-popup-opciones" id="cartaPopupOpciones">
                    <!-- Opciones de respuesta se llenarÃ¡n dinÃ¡micamente -->
                </div>
                
                <div class="carta-popup-respuesta hidden" id="cartaPopupRespuesta">
                    <!-- Respuesta se mostrarÃ¡ aquÃ­ -->
                </div>
            </div>
            
            <div class="carta-popup-footer">
                <button class="btn-popup-accion" id="btnMostrarRespuesta" onclick="mostrarRespuestaPopup()" style="display: none;">
                    ğŸ” Ver Respuesta
                </button>
                <button class="btn-popup-siguiente" onclick="cerrarPopupCarta()">
                    âœ¨ Continuar
                </button>
            </div>
        </div>
    </div>

    <div class="container mx-auto px-4 py-8">
        <h1 class="text-5xl font-black text-center text-gray-800 mb-12">GrafiCando</h1>
        
        <div class="flex justify-center gap-8 mb-12">
            <div class="text-center">
                <div class="mazo w-[195px] h-80 cursor-pointer" onclick="sacarCarta('comodines')">
                    <div id="comodines" class="w-full h-full rounded-xl shadow-lg bg-cover bg-center border-4 border-black"></div>
                </div>
                <div id="contador-comodines" class="contador-cartas">Comodines: 0</div>
            </div>
            <div class="text-center">
                <div class="mazo w-[195px] h-80 cursor-pointer" onclick="sacarCarta('preguntas')">
                    <div id="preguntas" class="w-full h-full rounded-xl shadow-lg bg-cover bg-center border-4 border-black"></div>
                </div>
                <div id="contador-preguntas" class="contador-cartas">Preguntas: 0</div>
            </div>
            <div class="text-center">
                <div class="mazo w-[195px] h-80 cursor-pointer" onclick="sacarCarta('datos')">
                    <div id="datos" class="w-full h-full rounded-xl shadow-lg bg-cover bg-center border-4 border-black"></div>
                </div>
                <div id="contador-datos" class="contador-cartas">Curiosidades: 0</div>
            </div>
        </div>

        <div id="carta-actual" class="hidden">
            <div class="carta-titulo"></div>
            <div class="carta-texto"></div>
            <div class="respuesta-input-container"></div>
            <div class="respuesta hidden"></div>
        </div>
    </div>

    <script src="main.js"></script>
</body>
</html> 